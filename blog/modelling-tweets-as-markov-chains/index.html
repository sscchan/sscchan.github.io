<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Modelling Tweets as Markov Chains</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="./../assets/main/css/main.css?v=c6f281c255" />
    <noscript><link rel="stylesheet" href="./../assets/main/css/noscript.css?v=c6f281c255" /></noscript>

    <link rel="canonical" href="http://sscchan.github.io/blog/modelling-tweets-as-markov-chains/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="http://sscchan.github.io/blog/modelling-tweets-as-markov-chains/amp/" />
    
    <meta property="og:site_name" content="Stephen Chan&#x27;s Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Modelling Tweets as Markov Chains" />
    <meta property="og:description" content="To celebrate the end of the 2016, let&#x27;s model president-elect Trump&#x27;s 2016 tweets as a Markov Chain! Project Code on: GitHub | Live Demo What is a Markov Chain?Markov Chains are stochastic processes that satisfy the Markov Property. Markov Chains are described &quot;memoryless&quot;, where the probability of the future state" />
    <meta property="og:url" content="http://sscchan.github.io/blog/modelling-tweets-as-markov-chains/" />
    <meta property="og:image" content="http://sscchan.github.io/blog/content/images/2020/12/TwitterGeneratorBanner.png" />
    <meta property="article:published_time" content="2017-01-01T00:00:00.000Z" />
    <meta property="article:modified_time" content="2020-12-25T02:06:02.000Z" />
    <meta property="article:tag" content="Markov Chains" />
    <meta property="article:tag" content="Javascript" />
    <meta property="article:tag" content="twitter" />
    <meta property="article:tag" content="Stochastic Modelling" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Modelling Tweets as Markov Chains" />
    <meta name="twitter:description" content="To celebrate the end of the 2016, let&#x27;s model president-elect Trump&#x27;s 2016 tweets as a Markov Chain! Project Code on: GitHub | Live Demo What is a Markov Chain?Markov Chains are stochastic processes that satisfy the Markov Property. Markov Chains are described &quot;memoryless&quot;, where the probability of the future state" />
    <meta name="twitter:url" content="http://sscchan.github.io/blog/modelling-tweets-as-markov-chains/" />
    <meta name="twitter:image" content="http://sscchan.github.io/blog/content/images/2020/12/TwitterGeneratorBanner.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Stephen Chan" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Markov Chains, Javascript, twitter, Stochastic Modelling" />
    <meta property="og:image:width" content="1021" />
    <meta property="og:image:height" content="413" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Stephen Chan&#x27;s Blog",
        "url": "http://sscchan.github.io/blog/",
        "logo": {
            "@type": "ImageObject",
            "url": "http://sscchan.github.io/blog/favicon.ico",
            "width": 48,
            "height": 48
        }
    },
    "author": {
        "@type": "Person",
        "name": "Stephen Chan",
        "url": "http://sscchan.github.io/blog/author/stephen/",
        "sameAs": []
    },
    "headline": "Modelling Tweets as Markov Chains",
    "url": "http://sscchan.github.io/blog/modelling-tweets-as-markov-chains/",
    "datePublished": "2017-01-01T00:00:00.000Z",
    "dateModified": "2020-12-25T02:06:02.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "http://sscchan.github.io/blog/content/images/2020/12/TwitterGeneratorBanner.png",
        "width": 1021,
        "height": 413
    },
    "keywords": "Markov Chains, Javascript, twitter, Stochastic Modelling",
    "description": "To celebrate the end of the 2016, let&#x27;s model president-elect Trump&#x27;s 2016\ntweets as a Markov Chain!\n\n\n--------------------------------------------------------------------------------\n\nProject Code on: GitHub [https://github.com/sscchan/tweet-markov-chain] | Live\nDemo [http://sscchan.github.io/portfolio/projects/TweeterMarkov/]\n\nWhat is a Markov Chain?\nMarkov Chains [https://en.wikipedia.org/wiki/Markov_chain] are stochastic\nprocesses that satisfy the Markov Property\n[https://en.wikipedia.org/wi",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://sscchan.github.io/blog/"
    }
}
    </script>

    <meta name="generator" content="Ghost 3.40" />
    <link rel="alternate" type="application/rss+xml" title="Stephen Chan&#x27;s Blog" href="http://sscchan.github.io/blog/rss/" />

    <style>#wrapper>.bg {background-image: url(./../assets/images/overlay.png?v=c6f281c255),linear-gradient(0deg, rgba(0,0,0,0.1), rgba(0,0,0,0.1)),url("/content/images/2020/12/FrontPageBackground.png") }</style>

</head>
<body class="is-preload post-template tag-markov-chains tag-javascript tag-twitter tag-stochastic-modelling">

    <div id="wrapper" >


        <header id="header">
                <a href="http://sscchan.github.io/blog" class="logo">Stephen Chan&#x27;s Blog</a>
        </header>

            <nav id="nav">
    <ul class="links">
        <li class="nav-home "><a href="http://sscchan.github.io/blog/">Home</a></li>
        <li class="nav-linkedin "><a href="https://www.linkedin.com/in/stephenscchan/">LinkedIn</a></li>
    </ul>
    <ul class="icons">
        <li><a href="https://feedly.com/i/subscription/feed/http://sscchan.github.io/blog/rss/" class="icon fa-rss" target="_blank" rel="noopener"><span class="label" title="RSS">RSS</span></a></li>
    </ul>
</nav>


        

<main id="main">

    <section class="post">

        <header class="major">
            <span class="date">January 1, 2017</span>
            <h1>Modelling Tweets as Markov Chains</h1>
        </header>

        <div class="image main"><img src="./../content/images/2020/12/TwitterGeneratorBanner.png" alt="Modelling Tweets as Markov Chains" /></div>

        <div class="content">
            <p><em>To celebrate the end of the 2016, let's model president-elect Trump's 2016 tweets as a Markov Chain!</em></p><hr><p>Project Code on: <a href="https://github.com/sscchan/tweet-markov-chain">GitHub</a> | <a href="http://sscchan.github.io/portfolio/projects/TweeterMarkov/">Live Demo</a></p><figure class="kg-card kg-image-card"><img src="./..//content/images/2020/12/MarkovTweetBootScreenshot.png" class="kg-image" alt srcset="http://sscchan.github.io/blog/content/images/size/w600/2020/12/MarkovTweetBootScreenshot.png 600w, http://sscchan.github.io/blog/content/images/2020/12/MarkovTweetBootScreenshot.png 712w"></figure><h4 id="what-is-a-markov-chain">What is a Markov Chain?</h4><p><a href="https://en.wikipedia.org/wiki/Markov_chain">Markov Chains</a> are stochastic processes that satisfy the <a href="https://en.wikipedia.org/wiki/Markov_property">Markov Property</a>. Markov Chains are described "memoryless", where the probability of the future state is entirely and only dependent on the current state and not the previous states.</p><h4 id="how-are-tweets-and-markov-chain-related">How are Tweets and Markov Chain related?</h4><p>Are the words contained within a tweet generated via a stochastic process that satisfies the Markov property? <strong><strong><em>absolutely not</em></strong></strong></p><p>So why do you want to model tweets as a Markov Chain? <strong><strong>because it's</strong></strong> <strong><strong><em>hilarious</em></strong></strong></p><h4 id="getting-the-tweet-data">Getting the Tweet Data</h4><p>Twitter provides an API for reading and writing tweet data. It's also useless for our purpose because Twitter only returns tweets from the last three weeks. Very sad.</p><p>But it looks like <a href="http://www.trumptwitterarchive.com/">trumptwitterarchive.com</a> have a database of historical tweets from the president-elect. So I've copied all of the tweets from 2016 to a local text file.</p><h4 id="tweet-data-preprocessing">Tweet Data Preprocessing</h4><p>We'll need to pre-process our data so we can produce a sensible looking transition matrix. String elements such as links to articles, quotes and urls are removed using Regex.</p><h4 id="modelling-tweets-as-a-markov-chain">Modelling Tweets as a Markov Chain</h4><p>Strictly speaking, we are modelling the <strong><strong>process</strong></strong> of writing out a tweet as a Markov Chain. Each word of the tweet is represented by a system state. With the knowledge of the present system state (current word) we can obtain the future system state (next word) using the transition matrix.</p><h5 id="a-tweet-s-first-word-">A Tweet's First Word:</h5><p>We will need to set an initial condition for our system before the Markov process of writing out the subsequent word can begin. From our dataset, we can determine the probability distribution of the first word (initial condition) of the tweet:</p><pre><code>function calculateFirstWordsProbabilities(tweets)
{
  let tweetFirstWords = [];
  tweets.forEach(extractFirstWordofTweet);
  tweetFirstWordsProbability = convertToProbabilityArray(tweetFirstWords);

  function extractFirstWordofTweet(tweet) {
    let words = tweet.split(' ');
    tweetFirstWords.push(words[0]);
  }  
}
</code></pre><p>If your dataset is small, you can conceivably just populate an array of all of the first words of each tweet (with repeats). That will simplify the process as we no longer need to calculate the cumulative distribution function. This will probably require <strong><strong><em>lots</em></strong></strong> of storage for any decent size dataset.</p><h5 id="determining-the-transition-matrix">Determining the Transition Matrix</h5><p>Given that the state space is very large (all unique words within our tweets dataset). I've chosen to implement the transition matrix as an hash table with the <code>key</code> representing the current state and the <code>value</code> as an <code>array</code> of future states and their associated probabilities. This minimises storage requirement as the transition matrix is very sparse.</p><pre><code>function populateMarkovFrequencies(tweet) {
  let words = tweet.split(' ');

  for (let i = 0; i &lt; words.length; i++) {
    let word = words[i];
    let isLastWordinTweet = (i === (words.length - 1));

    if (markovTransition[word] === undefined) {
      markovTransition[word] = [];
    }

    if (isLastWordinTweet) {
      markovTransition[word].push('\n');
    } else {
      let nextWordInTweet = words[i+1];
      markovTransition[word].push(nextWordInTweet); 
    }
  }

function processMarkovTransition() {
  for (let word in markovTransition) {
    markovTransition[word] = convertToProbabilityArray(markovTransition[word]);
  }
}
</code></pre><h5 id="done-">Done!</h5><p>All we need to do now is to use the transition matrix to generate our own tweet!</p>
        </div>


        <footer class="post-footer">

            <div class="authors">
                <a class="author-box" href="./../author/stephen/">
                    <section class="author-box-content">
                        <div class="author-box-label">Author</div>
                        <h5 class="author-box-name">Stephen Chan</h5>
                        <p>Read more posts by this author.</p>
                    </section>
                </a>
            </div>

        </footer>

    </section>

</main>


<script>
    var images = document.querySelectorAll('.kg-gallery-image img');
    images.forEach(function (image) {
        var container = image.closest('.kg-gallery-image');
        var width = image.attributes.width.value;
        var height = image.attributes.height.value;
        var ratio = width / height;
        container.style.flex = ratio + ' 1 0%';
    })
</script>


        <div id="copyright">
            <ul>
                <li>&copy; Stephen Chan&#x27;s Blog</li>
                <li>Design by <a href="https://html5up.net">HTML5 UP</a></li>
                <li>Published with <a href="https://ghost.org">Ghost</a></li>
            </ul>
        </div>

    </div>


    <script src="./../assets/main/js/jquery.min.js?v=c6f281c255"></script>
    <script src="./../assets/main/js/jquery.scrollex.min.js?v=c6f281c255"></script>
    <script src="./../assets/main/js/jquery.scrolly.min.js?v=c6f281c255"></script>
    <script src="./../assets/main/js/browser.min.js?v=c6f281c255"></script>
    <script src="./../assets/main/js/breakpoints.min.js?v=c6f281c255"></script>
    <script src="./../assets/main/js/util.js?v=c6f281c255"></script>
    <script src="./../assets/main/js/main.js?v=c6f281c255"></script>

    

</body>
</html>
